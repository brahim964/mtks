---
import BookLayout from '../../layouts/BookLayout.astro';
import dict from '../../i18n/en.ts';

const lang = 'en';
const sections = dict.secciones;
---

<BookLayout title="Catalog">
  <div id="flipbook" class="mx-auto">
    <!-- Page 1: Interior cover -->
    <div class="page flex flex-col items-center justify-center text-center">
      <h1 class="text-6xl font-bold mb-4">Rubber Track</h1>
      <p class="text-2xl text-gray-600">Technical Catalog 2025</p>
    </div>

    <!-- Page 2: Single index -->
    <div class="page p-10">
      <h2 class="text-3xl font-semibold mb-6 border-b pb-2">Index</h2>
      <ul class="space-y-4 text-lg">
        {sections.map((section, i) => (
          <li class="flex justify-between border-b pb-2">
            <span>{section.titulo}</span>
            <span class="text-gray-400 tabular-nums">{String(i + 3).padStart(2, '0')}</span>
          </li>
        ))}
      </ul>
    </div>
  </div>

  <!-- Page navigation -->
  <div class="flex justify-center gap-4 mt-6">
    <button onclick="document.getElementById('flipbook')?.turn('previous')" class="bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 transition">← Previous</button>
    <button onclick="document.getElementById('flipbook')?.turn('next')" class="bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 transition">Next →</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const book = document.getElementById('flipbook');
      if (book) {
        // @ts-ignore
        $('#flipbook').turn({
          width: 1000,
          height: 650,
          autoCenter: true,
          elevation: 50,
          gradients: true
        });
      }
    });
  </script>
</BookLayout>
